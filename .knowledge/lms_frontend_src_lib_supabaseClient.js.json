{"is_source_file": true, "format": "JavaScript", "description": "This file initializes and interacts with a Supabase client for authentication and data access within a React web application, specifically configured for PKCE flow, with functions to get the current session, sign in via email, and sign out. It includes environment variable parsing and feature flag handling to enable or disable Supabase mode.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient"], "published": ["isSupabaseMode", "getSupabase", "getCurrentSession", "signInWithEmail", "signOut"], "classes": [], "methods": [{"name": "parseFlags()", "description": "Parses feature flags from environment variables, supporting JSON format or comma-separated string, returning an object with flags set to true.", "scope": "", "scopeKind": ""}, {"name": "isSupabaseMode()", "description": "Checks if the Supabase mode feature flag is enabled.", "scope": "", "scopeKind": ""}, {"name": "getSupabase()", "description": "Creates or retrieves a configured Supabase client instance configured for PKCE flow, throws error if environment variables are missing or if the feature flag is disabled.", "scope": "", "scopeKind": ""}, {"name": "getCurrentSession()", "description": "Fetches the current authenticated session from Supabase, returns session data or null if no session or on error.", "scope": "", "scopeKind": ""}, {"name": "signInWithEmail(email)", "description": "Initiates email sign-in flow using magic link with PKCE, redirect URL derived from window location.", "scope": "", "scopeKind": ""}, {"name": "signOut()", "description": "Signs out the current user from Supabase.", "scope": "", "scopeKind": ""}], "calls": ["createClient", "isSupabaseMode", "getSupabase", "supabase.auth.getSession", "supabase.auth.signInWithOtp", "supabase.auth.signOut"], "search-terms": ["Supabase client initialization", "PKCE flow", "environment variable parsing", "feature flag", "Auth session", "sign in", "sign out", "React environment variables", "Supabase mode"], "state": 2, "file_id": 52, "knowledge_revision": 184, "git_revision": "", "ctags": [{"_type": "tag", "name": "_client", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^let _client = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "getCurrentSession", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^export async function getCurrentSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSupabase", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^export function getSupabase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isSupabaseMode", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^export function isSupabaseMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseFlags", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^function parseFlags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "signInWithEmail", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^export async function signInWithEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/educational-content-management-system-263732-263747/lms_frontend/src/lib/supabaseClient.js", "pattern": "/^export async function signOut() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "651469874911cc5a4e6dd5f6ccc89e8e", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/lib/supabaseClient.js", "fields": [{"name": "let _client = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"184": ""}]}